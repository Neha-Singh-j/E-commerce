<%- include('../layouts/boilerplate') -%>
<%- include('../partials/header') -%>
<%- include('../partials/navbar') -%>

<div class="container mt-5">
  <h1 class="mb-4" style="color: #6a11cb;">Add New Product</h1>

  <form action="/products" method="POST" class="needs-validation" novalidate>

    <div class="mb-4">
      <label for="title" class="form-label fw-bold" style="color: #6a11cb;">Title:</label>
      <input type="text" class="form-control py-2" name="title" id="title" placeholder="Enter Product Title" required style="border-color: #d1d1d1;">
      <div class="valid-feedback">Looks good!</div>
      <div class="invalid-feedback" style="color: #fc4a1a;">Please provide a valid title.</div>
    </div>

    <div class="mb-4">
      <label for="price" class="form-label fw-bold" style="color: #6a11cb;">Price (₹):</label>
      <input type="number" class="form-control py-2" name="price" id="price" placeholder="Enter Product Price" required style="border-color: #d1d1d1;">
      <div class="valid-feedback">Looks good!</div>
      <div class="invalid-feedback" style="color: #fc4a1a;">Please provide a valid price.</div>
    </div>

    <div class="mb-4">
      <label for="imge" class="form-label fw-bold" style="color: #6a11cb;">Image URL:</label>
      <input type="text" class="form-control py-2" name="img" id="imge" placeholder="Image URL of Product" required style="border-color: #d1d1d1;">
      <div class="valid-feedback">Looks good!</div>
      <div class="invalid-feedback" style="color: #fc4a1a;">Please provide a valid image URL.</div>
    </div>

    <!-- ✅ Category Dropdown START -->
    <div class="mb-4">
      <label for="category" class="form-label fw-bold" style="color: #6a11cb;">Category:</label>
      <select id="category" name="category" class="form-control py-2" required style="border-color: #d1d1d1;">
        <option value="" disabled selected>Select Category</option>
        <option value="Electronics">Electronics</option>
        <option value="Books">Books</option>
        <option value="Clothing">Clothing</option>
        <option value="Beauty">Beauty</option>
        <option value="Furniture">Furniture</option>
      </select>
      <div class="invalid-feedback" style="color: #fc4a1a;">
        Please select a category.
      </div>
    </div>
    <!-- ✅ Category Dropdown END -->

    <div class="mb-4">
      <label for="description" class="form-label fw-bold" style="color: #6a11cb;">Description:</label>
      <textarea class="form-control py-2" name="desc" id="description" placeholder="Describe the product" required style="border-color: #d1d1d1;"></textarea>
      <div class="valid-feedback">Looks good!</div>
      <div class="invalid-feedback" style="color: #fc4a1a;">Please provide a description.</div>
    </div>

    <div class="text-end">
      <button type="submit" class="btn btn-lg text-white" style="background: #6a11cb;">Add Product</button>
    </div>

  </form>
</div>

<script>
  // Bootstrap form validation
  (function () {
    'use strict'
    const forms = document.querySelectorAll('.needs-validation')
    Array.from(forms).forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }
        form.classList.add('was-validated')
      }, false)
    })
  })()
</script>

<%- include('../partials/footer') -%>
